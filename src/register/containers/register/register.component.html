<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <!-- start page START-->
    <ng-container *ngIf="pageId === undefined">
        <h1 class="govuk-heading-xl">Register to manage civil and family law cases</h1>
        <p class="govuk-body">At the same time as you register your organisation, you'll give us details to create your user account.</p>
        <p class="govuk-body">Weâ€™ll approve the registration within 3 working days and send you an email asking you to finish creating your account.</p>
        <a href="#" [routerLink]="'/register/organisation-name'" role="button" class="govuk-button govuk-button--start">Start</a>
    </ng-container>
    <!-- start page END-->

    <app-form-builder *ngIf="pageId && pageId != 'check'"
      [pageItems]="pageItems"
      [pageValues]="pageValues"
      [isPageValid]="isPageValid"
      (submitPage)="onPageContinue($event)" >
    </app-form-builder>

    <!--TODO add this as component -->
    <ng-container *ngIf="(data$ | async).length !== 0 && pageId === 'check'">

      <h1 class="govuk-heading-xl">Check your answers before you register</h1>
      <dl class="govuk-check-your-answers  govuk-check-your-answers--short  govuk-!-margin-bottom-6">

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>Organisation name</ng-container>
          <ng-container answer>
            {{ data.orgName}}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/organisation-name'">Change <span class="govuk-visually-hidden">organisation name</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async).formValue as data">
          <ng-container question>Organisation address</ng-container>
          <ng-container answer>
            {{ data.officeAddressOne}}
            {{ data.officeAddressOne }} <br />
            {{ data.officeAddressTwo }} <br />
            {{ data.townOrCity }} <br />
            {{ data.county }} <br />
            {{ data.postcode }} <br />
            {{ data.officeAddressOne }} <br />
            {{ data.officeAddressTwo }}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/organisation-address'" >Change <span class="govuk-visually-hidden">organistaion address</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>PBA number</ng-container>
          <ng-container answer>
            {{ data.PBAnumber1 }}
            {{ data.PBAnumber2 }}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/pba-number'">Change <span class="govuk-visually-hidden">PBA number</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>DX reference</ng-container>
          <ng-container answer>
            {{ data.DXnumber }}
            {{ data.DXexchange }}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/DXreference'">Change <span class="govuk-visually-hidden">DX reference</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>First name(s)</ng-container>
          <ng-container answer>
            {{ data.firstName }}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/register-organisation/name'">Change <span class="govuk-visually-hidden">name</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>Last name</ng-container>
          <ng-container answer>
            {{ data.lastName }}
          </ng-container>
          <ng-container button>
            <a [routerLink]="'/register/register-organisation/name'">Change <span class="govuk-visually-hidden">last name</span></a>
          </ng-container>
        </div>

        <div app-govuk-dl-list-item
             class="govuk-check-your-answers__contents"
             *ngIf="(data$ | async) as data">
          <ng-container question>Email address</ng-container>
          <ng-container answer>
            {{ data.emailAddress }}
          </ng-container>
          <ng-container button>
            <a  [routerLink]="'/register/email-address'">Change <span class="govuk-visually-hidden">email address</span></a>
          </ng-container>
        </div>

      </dl>
      <h2 class="govuk-heading-l">Now submit your registration details</h2>
      <p>You are confirming that the details you've given are accurate.</p>

      <div
        role="button" draggable="false"
        (click)="onSubmitData()"
        class="govuk-button">
        Submit
      </div>

  </ng-container>

</div>
